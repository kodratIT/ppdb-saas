# Epic 2.6.1 Form Components Design

## Context

Epic 2.6 focuses on extracting shared UI components. For Epic 2.6.1, the goal is to reduce duplication across form-heavy admin pages by creating reusable, small form UI components without changing existing behavior or data flow. School Profile forms will be refactored first, then the same components will be applied to Admission Path, Fee Structure, and RBAC Assignment forms.

## Approach Summary

We will keep components small and composable. Existing `Label` and `Input` components are reused. Two new components will be added:

- `src/lib/components/ui/textarea.svelte`: a standard textarea with the same Tailwind look-and-feel as `Input` (focus ring, border, background, disabled styles). It accepts `name`, `id`, `rows`, `placeholder`, `required`, `disabled`, `class`, and supports `bind:value`.
- `src/lib/components/forms/form-error.svelte`: a form-specific helper that receives `errors` (object of string arrays) and `field` (string). It renders the first error with consistent styling (`text-red-500 text-sm mt-1`).

This keeps form markup clean while maintaining separation of concerns between UI styling and validation logic.

## Data Flow

`+page.svelte` continues to receive `data` and `form` from server actions. Pages pass `errors` and `field` into `FormError`, and the component conditionally renders when a field has errors. Inputs and textareas use `Label`, `Input`, and `Textarea` components without changing form payloads or action handlers.

## Error Handling

No changes to validation rules. UI error display becomes consistent through `FormError` and reduces duplication in markup. Errors remain tied to server-side action validation.

## Testing & Validation

No new automated tests are added for this refactor. Manual smoke checks should verify:

- Field values still bind correctly
- Errors display per-field after validation failures
- Styling matches existing form UI

## Scope Order

1. School Profile form refactor
2. Admission Path form refactor
3. Fee Structure form refactor
4. RBAC Assignment form refactor
